<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodingDung | Profile Template</title>
    <!-- bootstrap sheet -->
    <link rel="stylesheet" href="bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <!-- end bootstrap sheet -->
    <!-- fonts -->
    <link
        href="https://fonts.googleapis.com/css?family=Abel|Abril+Fatface|Acme|Alegreya|Alegreya+Sans|Anton|Archivo|Archivo+Black|Archivo+Narrow|Arimo|Arvo|Asap|Asap+Condensed|Bitter|Bowlby+One+SC|Bree+Serif|Cabin|Cairo|Catamaran|Crete+Round|Crimson+Text|Cuprum|Dancing+Script|Dosis|Droid+Sans|Droid+Serif|EB+Garamond|Exo|Exo+2|Faustina|Fira+Sans|Fjalla+One|Francois+One|Gloria+Hallelujah|Hind|Inconsolata|Indie+Flower|Josefin+Sans|Julee|Karla|Lato|Libre+Baskerville|Libre+Franklin|Lobster|Lora|Mada|Manuale|Maven+Pro|Merriweather|Merriweather+Sans|Montserrat|Montserrat+Subrayada|Mukta+Vaani|Muli|Noto+Sans|Noto+Serif|Nunito|Open+Sans|Open+Sans+Condensed:300|Oswald|Oxygen|PT+Sans|PT+Sans+Caption|PT+Sans+Narrow|PT+Serif|Pacifico|Passion+One|Pathway+Gothic+One|Play|Playfair+Display|Poppins|Questrial|Quicksand|Raleway|Roboto|Roboto+Condensed|Roboto+Mono|Roboto+Slab|Ropa+Sans|Rubik|Saira|Saira+Condensed|Saira+Extra+Condensed|Saira+Semi+Condensed|Sedgwick+Ave|Sedgwick+Ave+Display|Shadows+Into+Light|Signika|Slabo+27px|Source+Code+Pro|Source+Sans+Pro|Spectral|Titillium+Web|Ubuntu|Ubuntu+Condensed|Varela+Round|Vollkorn|Work+Sans|Yanone+Kaffeesatz|Zilla+Slab|Zilla+Slab+Highlight"
        rel="stylesheet">
    <!-- end fonts -->
    <!-- stylesheet -->
    <link rel="stylesheet" href="profile.css">
    <!-- stylesheet -->

</head>

<body>
    <!-- StartHeader -->
    <nav role="navigation">
        <div class="border-bottom d-flex align-items-center bg-primary justify-content-between">
            <a href="../Main-page/HomePage.html" class="navbar-brand main-barnd"><img
                    style="width: 120px; height: 60px;" src="./logo.png" alt="Logo"></a>

            <div class="d-flex">
                <!-- User Dropdown -->
                <div class="dropdown">
                    <a href="#" class="nav-link icons text-secondary-emphasis me-1 dropdown-toggle" id="userDropdown"
                        role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fas fa-user fa-lg"></i>
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="userDropdown">
                        <li><a class="dropdown-item" href="#">My Account</a></li>
                        <li><a class="dropdown-item" href="../profile-page/profile.html">Sign out</a></li>
                    </ul>
                </div>
                <!-- Heart Dropdown -->
                <div class="dropdown">
                    <a href="#" class="nav-link icons text-secondary-emphasis me-1 dropdown-toggle" id="heartDropdown"
                        role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fas fa-heart fa-lg"></i>
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="heartDropdown">
                        <li><a class="dropdown-item" href="#">Favorites</a></li>
                    </ul>
                </div>
                <!-- Shopping Cart Dropdown -->
                <div class="dropdown">
                    <a href="#" class="nav-link icons text-secondary-emphasis me-1 dropdown-toggle" id="cartDropdown"
                        role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fas fa-shopping-cart fa-lg"></i>
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="cartDropdown">
                        <li><a class="dropdown-item" href="#">Cart</a></li>
                        <li><a class="dropdown-item" href="#">Checkout</a></li>
                    </ul>
                </div>
                <!-- Bell Dropdown -->
                <div class="dropdown">
                    <a href="#" class="nav-link icons text-secondary-emphasis me-1 dropdown-toggle" id="bellDropdown"
                        role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fas fa-bell fa-lg"></i>
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="bellDropdown">
                        <li><a class="dropdown-item" href="#">Notifications</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <!-- EndHeader -->



    <!-- Start the form -->
    <div class="container light-style flex-grow-1 container-p-y">
        <h4 class="font-weight-bold py-3 mb-4">
            Account settings
        </h4>
        <div class="card overflow-hidden">
            <div class="row no-gutters row-bordered row-border-light">
                <div class="col-md-3 pt-0">
                    <div class="list-group list-group-flush account-settings-links">
                        <a class="list-group-item list-group-item-action active" data-toggle="list"
                            href="#account-general">General</a>
                    </div>
                </div>
                <div class="col-md-9">
                    <div class="tab-content">
                        <div class="tab-pane fade active show" id="account-general">
                            <form id="account-form">
                                <div class="card-body media align-items-center">
                                    <img src="https://bootdey.com/img/Content/avatar/avatar1.png" alt="Profile Image"
                                        class="d-block ui-w-80">
                                    <div class="media-body ml-4">
                                        <label class="btn btn-primary">
                                            Upload new photo
                                            <input type="file" class="account-settings-fileinput">
                                        </label> &nbsp;
                                        <button type="button" class="btn btn-default md-btn-flat">Reset</button>
                                        <div class="text-black small mt-1">Allowed JPG, GIF or PNG. Max size of 800K
                                        </div>
                                    </div>
                                </div>
                                <hr class="border-light m-0">
                                <div class="card-body">
                                    <div class="form-group">
                                        <label class="form-label">Username</label>
                                        <input type="text" class="form-control mb-1" name="username" value="nmaxwell"
                                            required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Name</label>
                                        <input type="text" class="form-control" name="name" value="Nelle Maxwell">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">E-mail</label>
                                        <input type="email" class="form-control mb-1" name="email"
                                            value="nmaxwell@mail.com" required>
                                        <div class="alert alert-warning mt-3">
                                            Your email is not confirmed. Please check your inbox.<br>
                                            <a href="javascript:void(0)">Resend confirmation</a>
                                        </div>
                                    </div>

                                </div>
                                <div class="card-body pb-2">
                                    <div class="form-group">
                                        <label class="form-label">Current password</label>
                                        <input type="password" class="form-control" name="current-password" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">New password</label>
                                        <input type="password" class="form-control" name="new-password" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Repeat new password</label>
                                        <input type="password" class="form-control" name="repeat-password" required>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="text-right mt-3">
                            <button type="button" id="save-button" class="btn btn-primary">Save changes</button>&nbsp;
                            <button type="reset" form="account-form" class="btn btn-default">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End the form -->




    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.2/dist/jquery.validate.min.js"></script>
    <script>
        $(document).ready(function () {
            $.validator.addMethod("pattern", function (value, element, param) {
                return this.optional(element) || param.test(value);
            }, "Invalid format.");

            $("#account-form").validate({
                rules: {
                    username: {
                        required: true,
                        pattern: /^[a-zA-Z]+$/
                    },
                    email: {
                        required: true,
                        email: true

                    },
                    "current-password": {
                        required: true,
                        minlength: 8
                    },
                    "new-password": {
                        required: true,
                        minlength: 8
                    },
                    "repeat-password": {
                        equalTo: "[name='new-password']",
                        minlength: 8
                    }
                },
                messages: {
                    username: {
                        required: "Please enter your username",
                        pattern: "Username can only contain letters"
                    },
                    email: {
                        required: "Please enter your email address",
                        email: "Please enter a valid email address"
                    },
                    "current-password": {
                        required: "Please enter your current password",
                        minlength: "Password must be at least 8 characters long"
                    },
                    "new-password": {
                        required: "Please enter a new password",
                        minlength: "Password must be at least 8 characters long"
                    },
                    "repeat-password": {
                        equalTo: "Passwords do not match",
                        minlength: "Password must be at least 8 characters long"
                    }
                }
            });

            $("#save-button").click(function () {
                if ($("#account-form").valid()) {
                    var currentPasswordInput = $("input[name='current-password']").val();
                    var storedPassword = localStorage.getItem("currentPassword");

                    if (storedPassword === null || currentPasswordInput === storedPassword) {
                        localStorage.setItem("username", $("input[name='username']").val());
                        localStorage.setItem("name", $("input[name='name']").val());
                        localStorage.setItem("email", $("input[name='email']").val());
                        localStorage.setItem("company", $("input[name='company']").val());

                        // Update the current password in local storage
                        localStorage.setItem("currentPassword", $("input[name='new-password']").val());

                        alert("Data saved to local storage!");
                    } else {
                        alert("Current password is incorrect.");
                    }
                } else {
                    alert("Please fill out the form correctly.");
                }
            });
        });
    </script>


    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
        integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>